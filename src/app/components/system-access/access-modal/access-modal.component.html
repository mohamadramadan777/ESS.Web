<div class="modal" *ngIf="isOpen">
  <div class="modal-content">
    <!-- Header -->
    <div class="modal-header">
      <h3>Request Access</h3>
    </div>

    <!-- Body -->
    <div class="modal-body">
      <mat-form-field appearance="outline" class="form-input full-width">
        <mat-label>Select Access Type</mat-label>
        <mat-select [(ngModel)]="selectedAccessType" (change)="onAccessTypeChange($event)">
          <mat-option value="documentAdmin">Document Admin</mat-option>
          <mat-option value="approvedIndividual">Approved Individual</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="form-grid">
        <!-- Document Admin Form -->
        <ng-container *ngIf="selectedAccessType === 'documentAdmin'">
          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Name of the Individual</mat-label>
              <input matInput type="text" [(ngModel)]="documentAdminForm.name" />
            </mat-form-field>
          </div>

          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Job Title</mat-label>
              <input matInput type="text" [(ngModel)]="documentAdminForm.jobTitle" />
            </mat-form-field>
          </div>

          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Date of Birth</mat-label>
              <input matInput type="date" [(ngModel)]="documentAdminForm.dob" />
            </mat-form-field>
          </div>

          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Nationality</mat-label>
              <mat-select [(ngModel)]="documentAdminForm.nationality">
                <mat-option value="US">United States</mat-option>
                <mat-option value="IN">India</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Email Address</mat-label>
              <input matInput type="email" [(ngModel)]="documentAdminForm.email" />
            </mat-form-field>
          </div>

          <div class="form-item">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Confirm Email Address</mat-label>
              <input matInput type="email" [(ngModel)]="documentAdminForm.confirmEmail" />
            </mat-form-field>
          </div>
        </ng-container>

        <!-- Approved Individual Form -->
        <ng-container *ngIf="selectedAccessType === 'approvedIndividual'">
          <div class="form-item full-width">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Approved Individual Name</mat-label>
              <input matInput type="text" [(ngModel)]="approvedIndividualForm.name" />
            </mat-form-field>
          </div>

          <div class="form-item full-width">
            <mat-form-field appearance="outline" class="form-input">
              <mat-label>Approved Controlled Functions</mat-label>
              <mat-select [(ngModel)]="approvedIndividualForm.controlledFunctions">
                <mat-option value="Function1">Function 1</mat-option>
                <mat-option value="Function2">Function 2</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Actions -->
    <div class="modal-actions">
      <button mat-raised-button class="btn-cancel" (click)="closeModal()">Close</button>
      <button
        mat-raised-button
        class="btn-request"
        [disabled]="!isFormValid()"
        (click)="onRequest()"
      >
        Request
      </button>
    </div>
  </div>
</div>
